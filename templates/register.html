{% extends "base.html" %}
{% block title %}Register ‚Äî FoodBridge{% endblock %}

{% block content %}
<div class="auth-wrapper" style="max-width:700px; grid-template-columns:1fr;">
    <div class="auth-box" style="max-width:540px; margin:0 auto; width:100%;">
        <div class="auth-logo">üåâ FoodBridge</div>
        <h1 class="auth-title">Create an account</h1>

        <div class="toggle-tabs">
            <button class="tab-btn active" id="tab-hotel" onclick="switchTab('hotel')">üè® Hotel / Restaurant</button>
            <button class="tab-btn" id="tab-ngo" onclick="switchTab('ngo')">üíõ NGO</button>
        </div>

        <form method="POST" action="/register" class="auth-form">
            <input type="hidden" name="user_type" id="user_type" value="hotel">

            <div class="form-group">
                <label id="name-label">Hotel / Restaurant Name</label>
                <input type="text" name="name" placeholder="e.g. Grand Palace Hotel" required>
            </div>
            <div class="form-group">
                <label>Email Address</label>
                <input type="email" name="email" placeholder="you@example.com" required>
            </div>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="tel" name="phone" placeholder="+91 XXXXXXXXXX">
            </div>
            <div class="form-group">
                <label>Address</label>
                <input type="text" name="address" placeholder="Your full address">
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" name="password" placeholder="Create a strong password" required>
            </div>

            <button type="submit" class="btn btn-primary btn-full" id="register-btn">Create Hotel Account</button>
        </form>

        <p class="auth-switch">Already have an account? <a href="/login">Login here</a></p>
    </div>
</div>

<script>
function switchTab(type) {
    document.getElementById('user_type').value = type;
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.getElementById('tab-' + type).classList.add('active');
    document.getElementById('register-btn').textContent = type === 'hotel' ? 'Create Hotel Account' : 'Create NGO Account';
    document.getElementById('name-label').textContent = type === 'hotel' ? 'Hotel / Restaurant Name' : 'NGO Organization Name';
}
const params = new URLSearchParams(window.location.search);
if (params.get('type') === 'ngo') switchTab('ngo');
</script>
{% endblock %}